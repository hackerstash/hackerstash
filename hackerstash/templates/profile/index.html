{% extends 'base_app.html' %}
{% set title = 'HackerStash / Profile' %}

{% block body %}
    <div class="page user profile">
        <header class="header">
            <h2>Edit Settings</h2>
        </header>

        <form class="form d-flex flex-column wrap-620" action="{{ url_for('profile.update') }}" method="post">
            <fieldset>
                <div class="edit-avatar d-flex mb-2">
                    <span class="avatar lg">
                        <img src="https://images.hackerstash.com/users/lemonjs">
                    </span>
                    <input class="input" id="file" type="file" name="file" accept="image/jpg, image/jpeg, image/png">
                    <div class="change-options d-flex align-items-center">
                        <label class="label button secondary" for="file">Change</label>
                        <button class="button tertiary delete" type="button">
                            <i class="icon ri-delete-bin-2-line"></i>
                        </button>
                    </div>
                    <div class="upload-options d-flex align-items-center">
                        <label class="label button secondary" for="file">Upload</label>
                        <p class="small mb-0">.jpeg and .png file format only.</p>
                    </div>
                </div>

                <div class="row d-flex">
                    <div class="d-flex flex-column">
                        <label class="label" for="first_name">First name</label>
                        <input class="input" name="first_name" id="first_name" autocomplete="fname" value="{{ g.user.first_name }}">
                    </div>
                    <div class="d-flex flex-column">
                        <label class="label" for="last_name">Last name</label>
                        <input class="input" name="last_name" id="last_name" autocomplete="lname" value="{{ g.user.last_name }}">
                    </div>
                </div>

                <label class="label" for="username">Username</label>
                <input class="input" name="username" id="username" value="{{ g.user.username }}">

                <label class="label" for="location">Location <span>(city/town/village)</span></label>
                <input class="input search" id="location" name="location" type="search" autocomplete="disabled" placeholder="Search..." value="{{ g.user.location or '' }}">

                <label class="label" for="twitter">Twitter handle</label>
                <input class="input" name="twitter" id="twitter" placeholder="e.g. @hackerstash" value="{{ g.user.twitter or '' }}">

                <label class="label" for="bio">Bio</label>
                <textarea class="input textarea" name="bio" id="bio" rows="5">{{ g.user.bio or '' }}</textarea>

                <div class="button-group mt-3">
                    <button class="button" type="submit">Save changes</button>
                    <a class="button secondary" href="{{ url_for('users.show', user_id=g.user.id) }}">Cancel</a>
                </div>
            </fieldset>
        </form>
    </div>
{% endblock %}